---
sidebar_position: 2
---

# Runtime APIs

The TypeScript runtime exposes strongly typed helpers for accessing design tokens and managing themes.

## Theme Utilities

### Theme Class Management

```typescript
import {
  getThemeClassName,
  getThemeSelector,
  applyTheme,
  isThemeApplied,
  getOppositeTheme,
  THEME_CLASSES,
  THEME_SELECTORS
} from '@designgreat/lib-web-ui-design-token'

// Get CSS class name for a theme
getThemeClassName('dark')  // 'dg-theme-dark'
getThemeClassName('light') // '' (light uses :root, no class needed)

// Get CSS selector for a theme
getThemeSelector('dark')  // '.dg-theme-dark'
getThemeSelector('light') // ':root'

// Apply theme to an element
applyTheme(document.documentElement, 'dark')

// Check if a theme is applied
isThemeApplied(document.documentElement, 'dark') // true/false

// Get the opposite theme
getOppositeTheme('dark') // 'light'

// Direct access to constants
THEME_CLASSES.dark  // 'dg-theme-dark'
THEME_CLASSES.light // ''
THEME_SELECTORS.dark  // '.dg-theme-dark'
THEME_SELECTORS.light // ':root'
```

### API Reference

| Function | Parameters | Returns | Description |
|----------|------------|---------|-------------|
| `getThemeClassName` | `theme: ThemeName` | `string` | CSS class name for the theme |
| `getThemeSelector` | `theme: ThemeName` | `string` | CSS selector for the theme |
| `applyTheme` | `element: Element, theme: ThemeName` | `void` | Applies theme class to element |
| `isThemeApplied` | `element: Element, theme: ThemeName` | `boolean` | Checks if theme is applied |
| `getOppositeTheme` | `theme: ThemeName` | `ThemeName` | Returns opposite theme name |

| Constant | Type | Description |
|----------|------|-------------|
| `THEME_CLASSES` | `{ light: '', dark: 'dg-theme-dark' }` | Theme class names |
| `THEME_SELECTORS` | `{ light: ':root', dark: '.dg-theme-dark' }` | CSS selectors |
| `THEME_CLASS_PREFIX` | `'dg-theme'` | Prefix used for theme classes |
| `LIGHT_THEME_SELECTOR` | `':root'` | CSS selector for light theme |

## Token Access

### From `@designgreat/lib-web-ui-design-token`

```typescript
import {
  themes,
  light,
  dark
} from '@designgreat/lib-web-ui-design-token'

// Access theme tokens directly
const lightTokens = themes.light // or use the named export: light
const darkTokens = themes.dark   // or use the named export: dark

// All tokens are under the .dg namespace
const backgroundColor = lightTokens.dg.color.background.DEFAULT
const spacing = lightTokens.dg.spacing.px16
const primaryColor = darkTokens.dg.color.primary.DEFAULT

console.log(backgroundColor, spacing, primaryColor)
```

## Available Exports

### `themes` Object

An object containing all available themes:

```typescript
import { themes } from '@designgreat/lib-web-ui-design-token'

const allThemes = themes // { light: {...}, dark: {...} }
```

### Named Theme Exports

Direct access to specific themes:

```typescript
import { light, dark } from '@designgreat/lib-web-ui-design-token'

// Use directly without going through themes object
const lightBg = light.dg.color.background.DEFAULT
const darkBg = dark.dg.color.background.DEFAULT
```

## Usage Examples

### Accessing Color Tokens

```typescript
import { themes } from '@designgreat/lib-web-ui-design-token'

const lightTheme = themes.light

// Primary colors
const primary = lightTheme.dg.color.primary.DEFAULT
const primaryHover = lightTheme.dg.color.primary.hover.DEFAULT

// Background colors
const bg = lightTheme.dg.color.background.DEFAULT
const bgBold = lightTheme.dg.color.background.bold

// Text colors
const textDefault = lightTheme.dg.color.text.DEFAULT
const textSubtle = lightTheme.dg.color.text.subtle
```

### Accessing Spacing Tokens

```typescript
import { light } from '@designgreat/lib-web-ui-design-token'

// All spacing values
const spacing = light.dg.spacing

console.log(spacing.px4)   // 0.25rem
console.log(spacing.px8)   // 0.5rem
console.log(spacing.px16)  // 1rem
console.log(spacing.px24)  // 1.5rem
```

## Type Safety

All tokens have full TypeScript support for autocomplete and type checking:

```typescript
import type { ThemeName } from '@designgreat/lib-web-ui-design-token'
import { themes, getThemeClassName } from '@designgreat/lib-web-ui-design-token'

function getThemeColor(themeName: ThemeName) {
  const theme = themes[themeName]
  // TypeScript provides autocomplete for theme.dg properties
  return theme.dg.color.background.DEFAULT
}

function applyThemeToDocument(themeName: ThemeName) {
  // Type-safe theme class name
  document.body.className = getThemeClassName(themeName)
}
```

## Next Steps

- See [TypeScript Types](./typescript.mdx) for type definitions and interfaces
- Learn about [Theme Switching](../theme-switching.mdx) for dynamic theme changes
- Explore [CSS Integration](../css-integration.mdx) for styling options
