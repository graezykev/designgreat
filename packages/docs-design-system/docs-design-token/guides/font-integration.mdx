---
sidebar_position: 4
---

# Font Integration

The `@designgreat/lib-web-ui-design-token` package provides Roboto fonts as an optional import.

:::tip Architecture Details
For technical details about font formats, subsetting, and architectural decisions, see [Font Assets in Contributing Docs](/contributing/design-token-development/font-assets).
:::

---

## Quick Start

Import fonts in your application entry point:

```tsx
// main.tsx, _app.tsx, or app/layout.tsx
import '@designgreat/lib-web-ui-design-token/font'
import '@designgreat/lib-web-ui-design-token/css'
```

That's it! Roboto is now available in all weights and styles.

---

## What's Included

The font package includes **Roboto** with these weights:

| Weight | Usage |
|--------|-------|
| 100 (Thin) | Decorative text |
| 300 (Light) | Subtitles, captions |
| 400 (Regular) | Body text (default) |
| 500 (Medium) | Emphasized text |
| 700 (Bold) | Headings, strong emphasis |
| 900 (Black) | Display text, large headers |

Each weight includes both **Normal** and **Italic** styles.

---

## Framework Examples

### React (Vite)

```tsx
// src/main.tsx
import '@designgreat/lib-web-ui-design-token/font'
import '@designgreat/lib-web-ui-design-token/css'
import { createRoot } from 'react-dom/client'
import App from './App'

createRoot(document.getElementById('root')!).render(<App />)
```

### Next.js (App Router)

```tsx
// app/layout.tsx
import '@designgreat/lib-web-ui-design-token/font'
import '@designgreat/lib-web-ui-design-token/css'

export default function RootLayout({ children }: { children: React.ReactNode }) {
  return (
    <html lang="en">
      <body>{children}</body>
    </html>
  )
}
```

### Next.js (Pages Router)

```tsx
// pages/_app.tsx
import '@designgreat/lib-web-ui-design-token/font'
import '@designgreat/lib-web-ui-design-token/css'
import type { AppProps } from 'next/app'

export default function App({ Component, pageProps }: AppProps) {
  return <Component {...pageProps} />
}
```

### Remix

```tsx
// app/root.tsx
import '@designgreat/lib-web-ui-design-token/font'
import '@designgreat/lib-web-ui-design-token/css'
import { Links, Meta, Outlet, Scripts } from '@remix-run/react'

export default function App() {
  return (
    <html lang="en">
      <head>
        <Meta />
        <Links />
      </head>
      <body>
        <Outlet />
        <Scripts />
      </body>
    </html>
  )
}
```

---

## Using Roboto in Your Styles

### Automatic (With Design Tokens)

Roboto is applied automatically through CSS variables:

```css
/* Already defined in design token CSS */
--dg-font-family-primary: 'Roboto', -apple-system, BlinkMacSystemFont, sans-serif;
```

Use the variable in your styles:

```css
body {
  font-family: var(--dg-font-family-primary);
}

.custom-element {
  font-family: var(--dg-font-family-primary);
  font-weight: 500; /* Medium */
}
```

### Different Font Weights

```css
.heading {
  font-family: var(--dg-font-family-primary);
  font-weight: 700; /* Bold */
}

.body-text {
  font-family: var(--dg-font-family-primary);
  font-weight: 400; /* Regular */
}

.caption {
  font-family: var(--dg-font-family-primary);
  font-weight: 300; /* Light */
}
```

---

## Using a Different Font

If you prefer not to use Roboto:

### Step 1: Skip the Font Import

```tsx
// Don't import fonts
// import '@designgreat/lib-web-ui-design-token/font' ← Skip this

// Just import tokens
import '@designgreat/lib-web-ui-design-token/css'
```

### Step 2: Load Your Font

Via Google Fonts:

```html
<link rel="preconnect" href="https://fonts.googleapis.com" />
<link 
  href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
  rel="stylesheet"
/>
```

Or self-hosted:

```css
@font-face {
  font-family: 'Inter';
  src: url('/fonts/Inter-Regular.woff2') format('woff2');
  font-weight: 400;
  font-display: swap;
}
```

### Step 3: Override the CSS Variable

```css
:root,
.dg-theme-dark {
  --dg-font-family-primary: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
}
```

---

## Static Site Generators

For **Docusaurus, Astro**, and similar static site generators that don't support CSS font imports during build, you'll need to copy fonts manually.

### Copy Script Example

```typescript
// scripts/copy-fonts.ts
import { cpSync, existsSync, mkdirSync } from 'node:fs'
import { dirname, resolve } from 'node:path'
import { fileURLToPath } from 'node:url'

const __dirname = dirname(fileURLToPath(import.meta.url))
const fontSource = resolve(
  __dirname,
  '../node_modules/@designgreat/lib-web-ui-design-token/dist/font'
)
const staticDir = resolve(__dirname, '../static')
const fontTarget = resolve(staticDir, 'font')

async function copyFonts(): Promise<void> {
  if (!existsSync(staticDir)) {
    mkdirSync(staticDir, { recursive: true })
  }

  // Copy entire font directory (includes font-face.css and all font files)
  try {
    cpSync(fontSource, fontTarget, { recursive: true })
    console.log('✓ Font directory copied to static/font/')
  } catch (error) {
    console.warn('⚠ Could not copy fonts:', error instanceof Error ? error.message : String(error))
    console.warn('  Fonts may not be available at runtime')
  }
}

void copyFonts()
```

Then add to your build script:

```json
{
  "scripts": {
    "build": "tsx ./scripts/copy-fonts.ts && your-build-command"
  }
}
```

### Docusaurus Configuration

Then reference the CSS in your site configuration:

```typescript
// docusaurus.config.ts
const baseUrl = '/your-site/'
export default {
  // ...
  stylesheets: [`${baseUrl}font/font-face.css`]
}
```

---

## Troubleshooting

### Fonts Don't Load

**Check:**
1. ✅ Font import is **before** component imports
2. ✅ Browser Network tab shows `.woff2` files loading
3. ✅ No console errors
4. ✅ `@designgreat/lib-web-ui-design-token` is installed

### Fonts Flash Unstyled (FOUT)

This is expected! The font package uses `font-display: swap` to prevent invisible text.

**To minimize the flash:**

```html
<!-- Preload the most critical font -->
<link 
  rel="preload" 
  href="/fonts/Roboto-Regular.woff2" 
  as="font" 
  type="font/woff2" 
  crossorigin 
/>
```

### Font Paths 404 in Production

For static site generators, ensure fonts are copied to the correct directory before build.

---

## Next Steps

- Learn about [CSS Integration](./css-integration.mdx)
- See [Theme Switching](./theme-switching.mdx)
- Check the [Web Component Font Setup](/web-component/guides/font-setup) guide
