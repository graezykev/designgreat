---
sidebar_position: 4
description: Font loading strategy for library development
---

# Font Handling

This page explains how fonts are handled in the component library development workflow.

:::tip For Consumers
For detailed font loading options (CDN, self-hosted, custom fonts), see the [Fonts Guide](/design-token/guides/fonts).
:::

## Overview

The component library **does NOT bundle fonts** in its distributable CSS. Fonts are owned by `@designgreat/lib-design-token` and imported separately by consumers.

---

## Architecture

### Why Fonts Are Not Bundled

| Benefit | Explanation |
|---------|-------------|
| **Smaller bundles** | Apps using custom fonts don't download unused Roboto files |
| **Clean separation** | Design tokens package owns fonts, component library owns components |
| **Consumer flexibility** | Consumers choose their font loading strategy |
| **Decoupled builds** | Font changes don't trigger component library rebuilds |

### Library Import Chain

The library's CSS architecture ensures fonts are **NOT** bundled:

```
src/index.ts
  └─> styles/index.css
       ├─> @designgreat/lib-design-token/css  (tokens only, no fonts)
       └─> tailwind.css
            ├─> @tailwind utilities
            └─> components.css

❌ Fonts are NOT in this chain
```

**Storybook adds fonts separately:**

```
.storybook/preview.tsx
  ├─> @designgreat/lib-design-token/font  (fonts - Storybook only)
  └─> ../src/styles/index.css             (library CSS)
```

This separation ensures the published library remains font-free while Storybook has fonts for development.

---

## How Components Use Fonts

Components reference font variables from design tokens:

```css
.button {
  font-family: var(--dg-font-family-primary);
}
```

The actual font files are loaded by consumers via `@designgreat/lib-design-token/font`.

---

## Development Best Practices

### ✅ Do

- Import fonts in `.storybook/preview.tsx` for development
- Use CSS variables for font families: `var(--dg-font-family-primary)`
- Test components in Storybook with fonts loaded

### ❌ Don't

- Import fonts in `src/` files
- Add `@font-face` declarations to component styles
- Hardcode font family names in components

---

## Next Steps

- [Fonts Guide](/design-token/guides/fonts) — Consumer font loading options
- [Font Assets](/contributing/design-token-development/font-assets) — How fonts are built in design tokens
- [Troubleshooting](./troubleshooting#storybook-fonts-missing) — Font loading issues
