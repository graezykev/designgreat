---
sidebar_position: 5
description: Design token integration and CSS generation
---

# Design Token Integration

This page explains how the component library integrates with design tokens.

## Token Integration Flow

```
┌────────────────────────────────┐
│ @designgreat/lib-design-token  │ ← Design token package
│ • Style Dictionary processes   │
│   token JSON files             │
│ • Generates CSS variables      │
│ • Exports via /css entry point │
└───────────────┬────────────────┘
                │ @import ... layer(dg-tokens)
                ▼
┌────────────────────────────────┐
│ @designgreat/lib-web-component │ ← This package
│ • Imports tokens directly      │
│ • Wraps in @layer dg-tokens    │
│ • No generation step needed    │
└────────────────────────────────┘
```

**Key Point:** Tokens are imported directly from `@designgreat/lib-design-token/css` and wrapped in the `dg-tokens` CSS layer. No local generation script is needed.

## Tailwind Configuration

The Tailwind config (`tailwind.config.ts`) extends the design token system to generate utility classes:

```typescript
// Simplified example
export default {
  theme: {
    extend: {
      colors: {
        'color-background-button-default': 'var(--dg-color-background-button-default)',
        'color-text-heading': 'var(--dg-color-text-heading)'
        // ... all color tokens
      },
      spacing: {
        '1': 'var(--dg-spacing-1)',
        '4': 'var(--dg-spacing-4)'
        // ... all spacing tokens
      }
    }
  }
}
```

This allows using design tokens directly in utility classes:

```tsx
<button className="bg-color-background-button-default text-color-text-button-default px-spacing-11">
  Submit
</button>
```

### Benefits

- ✅ **Automatic theme switching** - Utilities use CSS variables
- ✅ **Type-safe** - Via Tailwind IntelliSense
- ✅ **JIT optimization** - Only used utilities are generated

## Rebuilding After Token Changes

When design tokens are updated in `lib-design-token`, rebuild to see the changes:

```bash
# From monorepo root
pnpm --filter @designgreat/lib-design-token build
pnpm --filter @designgreat/lib-web-component build
```

Or use the dev workflow which handles hot-reloading:

```bash
pnpm --filter @designgreat/lib-web-component dev
```

## CSS Layer Architecture

Tokens are imported into the `dg-tokens` layer in `src/styles/index.css`:

```css
@layer dg-tokens, dg-components;

@import '@designgreat/lib-design-token/css' layer(dg-tokens);
```

This ensures:
- Tokens have lower priority than component styles
- Component styles have lower priority than utility classes
- Consumers can override styles predictably

## Next Steps

- Review [Architecture](./architecture) for package structure
- Check [Font Handling](./font-handling) for font integration details
- See [Get Started](./get-started) for setup instructions

